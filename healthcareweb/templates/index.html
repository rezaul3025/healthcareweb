<html lang="en" ng-app="healthcareWebApp">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <title>Healtcare web</title>
    {% load staticfiles %}

    <!-- Bootstrap core CSS -->
    <link href="{% static "bootstrap/css/bootstrap.min.css" %}" rel="stylesheet" />
    <link href="{% static "bootstrap/css/bootstrap-theme.min.css" %}" rel="stylesheet" />

	<!--Select2 CSS -->
    <link href="{% static "select2-4.0.2/dist/css/select2.min.css" %}" rel="stylesheet" />
	
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  
    <style type="text/css">
		    	/*
		 * Style tweaks
		 * --------------------------------------------------
		 */
		html,
		body {
		  overflow-x: hidden; /* Prevent scroll on narrow devices */
		}
		body {
		  padding-top: 70px;
		}
		footer {
		  padding: 30px 0;
		}

		/*
		 * Off Canvas
		 * --------------------------------------------------
		 */
		@media screen and (max-width: 767px) {
		  .row-offcanvas {
		    position: relative;
		    -webkit-transition: all .25s ease-out;
		         -o-transition: all .25s ease-out;
		            transition: all .25s ease-out;
		  }

		  .row-offcanvas-right {
		    right: 0;
		  }

		  .row-offcanvas-left {
		    left: 0;
		  }

		  .row-offcanvas-right
		  .sidebar-offcanvas {
		    right: -50%; /* 6 columns */
		  }

		  .row-offcanvas-left
		  .sidebar-offcanvas {
		    left: -50%; /* 6 columns */
		  }

		  .row-offcanvas-right.active {
		    right: 50%; /* 6 columns */
		  }

		  .row-offcanvas-left.active {
		    left: 50%; /* 6 columns */
		  }

		  .sidebar-offcanvas {
		    position: absolute;
		    top: 0;
		    width: 50%; /* 6 columns */
		  }
		}
		
		.select2-selection__rendered{
  word-wrap: break-word !important;
  text-overflow: inherit !important;
  white-space: normal !important;
}

.select2-container--default .select2-results__option--highlighted[aria-selected] {
    background-color: #4ca64c !important;
    color: white !important;
}
		
		if it's not present, don't show loader */
.no-js #loader { display: none;  }
.js #loader { display: block; position: absolute; left: 100px; top: 0; }
.se-pre-con {
	left: 0px;
	top: 0px;
	width: 100%;
	height: 100%;
	z-index: 9999;
	padding-top:200px;
	background: url({% static "images/ajax-loader.gif" %}) top no-repeat #fff;
}
   </style>
  </head>

  <body>
    <nav class="navbar navbar-fixed-top navbar-inverse">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">HEALTHCARE-WEB</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="/">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
          <ul class="nav navbar-nav pull-right">
            {% if not user.is_authenticated %}
              <li><a href="/signup">Sign up / নিবন্দ্দন</a></li>
              <li><a href="/login">Log in</a></li>
            {% else %}
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">{{user.username}} <span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="#">View profile</a></li>
                  <li><a href="#">Edit profile</a></li>
                </ul>
              </li> 
              <li><a href="/logout/">logout</a></li>
            {% endif %}
            
          </ul>
        </div><!-- /.nav-collapse -->
      </div><!-- /.container -->
    </nav><!-- /.navbar -->

    <div class="container" ng-controller="HealthcareWebController">

      <div class="row row-offcanvas row-offcanvas-right">

        <div class="col-xs-12 col-sm-9">
          <p class="pull-right visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Toggle nav</button>
          </p>
         
          <div class="jumbotron">
            <div class="form-group has-feedback">
              <input type="text" class="form-control input-lg" ng-model="search.main" uib-typeahead="key for key in getSearchKey($viewValue)" placeholder="Search doctor by Name, Speclization, City" id="inputSuccess2"
              typeahead-on-select="getSimpleResult($item, $model, $label, $event)" />
              <span class="glyphicon glyphicon-search form-control-feedback"></span>
            </div>
          </div>
           <div class="se-pre-con"></div>
           <div><a href="#"><span class="glyphicon glyphicon-star"></span></a> ! <a href="#"><span class="glyphicon glyphicon-star-empty"></span></a></div>
          {% if doctors.number = 0 %}
         	 <center><img src="{% static "images/ajax-loader.gif" %}"></img></center>
          {% endif %}
          Page {{ doctors.number }} of {{ doctors.paginator.num_pages }}
          {% if doctors.number > 0 %}
            <div class="row" style="margin-bottom:10px ">
            
            <div class="col-xs-6 col-lg-2">
              <a href="#" ng-click="changeSimpleSearchView()"><span class="glyphicon glyphicon-th"></span></a>
              <a href="#" ng-click="changeSimpleSearchView()"><span class="glyphicon glyphicon-th-list"></span></a>
            </div>
            <div class="col-xs-6 col-lg-3">
              <p> Total item found  <span class="label label-primary" ng-bind="simpleSearchResults.length">{{doctors.length}}</span></p>
            </div>
            
          </div>
          {% endif %}

          <!-- <div ng-repeat="docarr in simpleSearchResults" ng-if="simpleSearchResults.length &amp;&amp; simplesearchViewThList" class="panel panel-default">
              <div class="panel-body">
                <h3 ng-bind="docarr.fields.firstName+' '+docarr.fields.lastName">Thumbnail label</h3>
                  <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. <a href="#"> Etiam porta sem malesuada </a> magna mollis euismod. Donec sed odio dui.</p>
                  <p><a href="#" class="btn btn-primary" role="button">Button</a> <a href="#" class="btn btn-primary" role="button">Button</a></p>
              </div>
          </div> -->
          <div class="row" >
          	{% for doctor in doctors %}
          	<div class="col-xs-12 col-sm-12" ng-if="simplesearchViewThList" >
 				<div class="panel panel-paimay">
	              <div class="panel-body">
	                <h3 >{{doctor.firstName}}</h3>
	                  <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. <a href="#"> Etiam porta sem malesuada </a> magna mollis euismod. Donec sed odio dui.</p>
	                  <p><a href="#" class="btn btn-primary" role="button">Button</a> <a href="#" class="btn btn-primary" role="button">Button</a></p>
	              </div>
          		</div>
			</div>
          
            <div class="col-xs-6 col-lg-4" ng-if="simplesearchViewTh">
              <!--h2 ng-bind="docarr.fields.firstName+' '+docarr.fields.lastName">Heading</h2>
              <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. <a href="#"> Etiam porta sem malesuada </a> magna mollis euismod. Donec sed odio dui. </p>
              <p><a class="btn btn-primary" href="#" role="button">View details &raquo;</a></p -->
            
              <div class="thumbnail">
                <img src="..." alt="..." >
                <div class="caption">
                  <h3 >{{doctor.firstName}}</h3>
                  <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. <a href="#"> Etiam porta sem malesuada </a> magna mollis euismod. Donec sed odio dui.</p>
                  <p><a href="#" class="btn btn-primary" role="button">Button</a> <a href="#" class="btn btn-primary" role="button">Button</a></p>
                </div>
              </div>
            </div><!--/.col-xs-6.col-lg-4-->
             {% endfor %}
          </div><!--/row--> 
          
          <nav>
  				<ul class="pager">
			        {% if doctors.has_previous %}
			           <li class="previous"> <a href="?queryStr={{queryStr}}&page={{ doctors.previous_page_number }}"> <span aria-hidden="true">&larr;</span> <b>Previous </b></a></li>
			        {% endif %}
					
					<li>
				        <span class="current">
				             Page {{ doctors.number }} of {{ doctors.paginator.num_pages }}. 
				        </span>
					</li>
					
			        {% if doctors.has_next %}
			           <li class="next"> <a href="?queryStr={{queryStr}}&page={{doctors.next_page_number}}"><b>Next </b> <span aria-hidden="true">&rarr;</span></a> </li>
			        {% endif %}
			   </ul>
			</nav>
          
        </div><!--/.col-xs-12.col-sm-9-->

        <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar">
          <!-- <div class="list-group">
            <a href="#" class="list-group-item active">Link</a>
            <a href="#" class="list-group-item">Link</a>
            <a href="#" class="list-group-item">Link</a>
            <a href="#" class="list-group-item">Link</a>
            <a href="#" class="list-group-item">Link</a>
            <a href="#" class="list-group-item">Link</a>
            <a href="#" class="list-group-item">Link</a>
            <a href="#" class="list-group-item">Link</a>
            <a href="#" class="list-group-item">Link</a>
            <p href="#" class="list-group-item"><sapn ng-repeat="p in ratingPoints"><a ng-click="ratingPointchnage(false,$index)" href="#" ng-attr-title="test" ng-if="p.isActive" ><span class="glyphicon glyphicon-star"></span></a><a href="#" ng-click="ratingPointchnage(true,$index+1 )" ng-attr-title="test" ng-if="!p.isActive" ><span class="glyphicon glyphicon-star-empty"></span></a>&nbsp;</sapn></p>
          </div> -->
          <div class="panel panel-primary">
	         <div class="panel-body" ng-init="getAdvanceSearchParams(search)">
	         	<h3>Advanced search</h3>
	         	<hr/>
	         	<div class="form-group">
							    <label for="specialization" class="control-label">Specialization</label>
							    	{{specialization1}}k
							      <!-- <select  ng-model="search.specialization" class="form-control col-sm-3 specialization" multiple="multiple" id="specialization" >
							      </select> -->
							      {{specialization1}}
							   		<hc-combo-div id="specialization" name="specialization" ng-model="search.specialization" ng-init="specialization = search.specialization" class="form-control col-sm-3" ></hc-combo-div>
							   		
							   		
							  </div>
	       
	         <div class="form-group">
							    <label for="city" class="control-label">City</label>
							    	
							      <input ng-change="search()" ng-model="search.city" class="form-control cities" multiple="multiple" id="city" >
							      </input>
							   {{search.city}}l
							  </div>
				<div class="form-group">
							    <label for="ratings" class="control-label">Ratings</label>
							    
							      <p href="#" id="ratings" class="form-control"><sapn ng-repeat="p in ratingPoints"><a ng-click="ratingPointchnage(false,$index)" href="#" ng-attr-title="test" ng-if="p.isActive" ><span class="glyphicon glyphicon-star"></span></a><a href="#" ng-click="ratingPointchnage(true,$index+1 )" ng-attr-title="test" ng-if="!p.isActive" ><span class="glyphicon glyphicon-star-empty"></span></a>&nbsp;</sapn></p>
							   
							  </div>
	         </div>
	         
	         </div>
          </div>
        </div><!--/.sidebar-offcanvas-->
      </div><!--/row-->

      <hr>

      <footer>
        <p>&copy; 2015 Company, Inc.</p>
      </footer>

    </div><!--/.container-->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="{% static "angularjs/angular.min.js" %}"></script>
    <script src="{% static "bootstrap/js/bootstrap.min.js" %}"></script>
    <script src="{% static "bootstrap/js/ui-bootstrap-tpls-1.3.0.min.js" %}"></script>
    <script src="{% static "select2-4.0.2/dist/js/select2.full.min.js" %}"></script>
   	<script src="{% static "custom/js/service/service.js" %}"></script>
    <script src="{% static "custom/js/component/component.js" %}"></script>
    <script src="{% static "custom/js/healthcareWebController.js" %}"></script>
    <script type="text/javascript">
	$(window).load(function() {
		// Animate loader off screen
		$(".se-pre-con").fadeOut("slow");
		
		$('.cities1').select2({
		    width: '100%',
		   // allowClear: true,
		    multiple: true,
		    maximumSelectionSize: 1,
		    tags: true,
		    placeholder: "Click here and start typing to search.",
		    data: [
		            { id: 1, text: "Ford"     },
		            { id: 2, text: "Dodge"    },
		            { id: 3, text: "Mercedes" },
		            { id: 4, text: "Jaguar"   }
		          ]    
		});
		
		$('.specialization1').select2({
		    ajax: {
		        url: "/specializations",
		        dataType: 'json',
		        quietMillis: 100,
		        data: function (params) {
		           return {
				        queryStr: typeof params.term != 'undefined' ? params.term:'', // search term
				        page: params.page
				      };
		        },
		        processResults: function (data,  params) {
		          var results = [];
		          $.each(data, function(index, item){
		            results.push({
		              id: item,
		              text: item
		            });
		          });
		          params.page = params.page || 1;
		
		          return {
		              results: results,
				        pagination: {
				          more: (params.page * 30) < data.length
				        }
		          };
		        }
		    }
		});
		
		$('.citiesgg1').select2({
		    ajax: {
		        url: "/cities",
		        dataType: 'json',
		        quietMillis: 100,
		        data: function (params) {
		           return {
				        queryStr: typeof params.term != 'undefined' ? params.term:'', // search term
				        page: params.page
				      };
		        },
		        processResults: function (data,  params) {
		          var results = [];
		          $.each(data, function(index, item){
		            results.push({
		              id: item,
		              text: item
		            });
		          });
		          params.page = params.page || 1;
		
		          return {
		              results: results,
				        pagination: {
				          more: (params.page * 30) < data.length
				        }
		          };
		        }
		    }
		});
	});
    </script>
  </body>
</html>
